{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useRef, useState, useEffect, useCallback } from \"react\";\nfunction useStateWithCallback(initialState) {\n  var _useState = useState(initialState),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    _setState = _useState2[1];\n  var callbackRef = useRef();\n  var isFirstCallbackCall = useRef(true);\n  var setState = useCallback(function (setStateAction, callback) {\n    callbackRef.current = callback;\n    _setState(setStateAction);\n  }, []);\n  useEffect(function () {\n    if (isFirstCallbackCall.current) {\n      isFirstCallbackCall.current = false;\n      return;\n    }\n    callbackRef.current == null ? void 0 : callbackRef.current(state);\n  }, [state]);\n  return [state, setState];\n}\nexport default useStateWithCallback;","map":{"version":3,"names":["useRef","useState","useEffect","useCallback","useStateWithCallback","initialState","_useState","_useState2","_slicedToArray","state","_setState","callbackRef","isFirstCallbackCall","setState","setStateAction","callback","current"],"sources":["/Users/tamzidrazzaque/Documents/Xfin_testing/node_modules/react-native-login-screen/lib/helpers/useStateWithCallback.ts"],"sourcesContent":["import {\n  useRef,\n  useState,\n  useEffect,\n  useCallback,\n  SetStateAction,\n} from \"react\";\n\ntype Callback<T> = (value?: any) => void;\ntype DispatchWithCallback<T> = (value: any, callback?: Callback<any>) => void;\n\nfunction useStateWithCallback<T>(\n  initialState: any | (() => any),\n): [any, DispatchWithCallback<SetStateAction<any>>] {\n  const [state, _setState] = useState(initialState);\n\n  const callbackRef = useRef<Callback<any>>();\n  const isFirstCallbackCall = useRef<boolean>(true);\n\n  const setState = useCallback(\n    (setStateAction: SetStateAction<any>, callback?: Callback<any>): void => {\n      callbackRef.current = callback;\n      _setState(setStateAction);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (isFirstCallbackCall.current) {\n      isFirstCallbackCall.current = false;\n      return;\n    }\n    callbackRef.current?.(state);\n  }, [state]);\n\n  return [state, setState];\n}\n\nexport default useStateWithCallback;\n"],"mappings":";AAAA,SACEA,MAAM,EACNC,QAAQ,EACRC,SAAS,EACTC,WAAW,QAEN,OAAO;AAKd,SAASC,oBAAoBA,CAC3BC,YAA+B;EAE/B,IAAAC,SAAA,GAA2BL,QAAQ,CAACI,YAAY,CAAC;IAAAE,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,KAAK,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EAEvB,IAAMI,WAAW,GAAGX,MAAM,EAAiB;EAC3C,IAAMY,mBAAmB,GAAGZ,MAAM,CAAU,IAAI,CAAC;EAEjD,IAAMa,QAAQ,GAAGV,WAAW,CAC1B,UAACW,cAAmC,EAAEC,QAAwB,EAAU;IACtEJ,WAAW,CAACK,OAAO,GAAGD,QAAQ;IAC9BL,SAAS,CAACI,cAAc,CAAC;EAC3B,CAAC,EACD,EAAE,CACH;EAEDZ,SAAS,CAAC,YAAK;IACb,IAAIU,mBAAmB,CAACI,OAAO,EAAE;MAC/BJ,mBAAmB,CAACI,OAAO,GAAG,KAAK;MACnC;;IAEFL,WAAW,CAACK,OAAO,oBAAnBL,WAAW,CAACK,OAAO,CAAGP,KAAK,CAAC;EAC9B,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAO,CAACA,KAAK,EAAEI,QAAQ,CAAC;AAC1B;AAEA,eAAeT,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}